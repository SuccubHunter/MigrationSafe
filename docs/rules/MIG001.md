# MIG001 â€” Add Column NOT NULL (without default)

## Problem
A column is added with a NOT NULL constraint and without a DEFAULT value.

## Why This Is Dangerous
PostgreSQL must rewrite the entire table to populate the column, acquiring an ACCESS EXCLUSIVE lock. On large tables this can block reads and writes for a long time and cause downtime in production.

## Recommended Solutions
- Add the column as nullable first.
- Backfill data in batches.
- Add the NOT NULL constraint in a separate step.
- Alternatively, add a DEFAULT value if it is safe and intended.
